<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="UserDAO">

	<resultMap type="user" id="userResult">
		<id property ="id" column="ID"/>
		<result property = "password" column="PASSWORD"/>
		<result property = "name" column="NAME"/>
		<result property = "regdate" column="REGDATE"/>
		<result property = "address" column="ADDRESS"/>
		<result property = "phone" column="PHONE"/>
		<result property = "email" column="EMAIL"/>
		<result property = "birth" column="BIRTH"/>
		<result property = "gender" column="GENDER"/>
		<result property = "groupid" column="GROUPID"/>		
	</resultMap>

	<insert id ="insertUser">
	  <![CDATA[
	  	INSERT INTO USERS (ID, PASSWORD, NAME, ADDRESS, PHONE, EMAIL,
	  	BIRTH, GENDER, GROUPID) 
	  	VALUES (#{id}, #{password}, #{name}, #{address}, #{phone}, 
	  	#{email}, #{birth}, #{gender}, #{groupid})	  	
	  ]]>	
	</insert>
	
	<update id="updateUser">
	  <![CDATA[
	  	UPDATE USERS SET
	  		PASSWORD = #{password},
	  		NAME = #{name},
	  		ADDRESS = #{address},
	  		PHONE = #{phone},
	  		EMAIL = #{email},
	  		GROUPID = #{groupid}
	  	WHERE ID = #{id}	
	  ]]>		
	</update>
	
	<delete id="deleteUser">
	<![CDATA[
	   DELETE USERS
	   WHERE ID = #{id}
	]]>	
	</delete>
	
	<select id="getUser" resultType="user">
	<![CDATA[	
	  SELECT * FROM USERS
	  WHERE ID = #{id} AND PASSWORD = #{password}
	  
	]]>	
	</select>
	
	<select id="getUserList" resultMap ="userResult">
	<![CDATA[
	  SELECT * FROM USERS
	  ORDER BY ID DESC
	]]>
	</select>
	


</mapper>